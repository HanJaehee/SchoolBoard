# 학교 게시판

## 목적
Java, Spring, JPA 등 습득한 여러 개념들을 활용해 보기 위해 학교와 게시판이라는 가상의 모델을 만들어 구현하기 위함입니다.

## 기능
1. 유저(학생, 교수), 과목, 전공으로 이루어진 학사 시스템으로 과목에 대한 개설 신청, 수강 신청, 조회가 가능하다.

## 기능 명세

### 전공, Department

1. 전공 등록 (O)
   * 기능 : 전공을 등록합니다.
   * 요청 : 전공 이름
   * 응답 : 전공 ID, 전공 이름

2. ID로 전공 조회 (O)
   * 기능 : 전공 ID로 세부정보를 조회합니다.
   * 요청 : 전공 ID
   * 응답 : 전공 ID, 전공 이름

3. 키워드가 포함된 전공 조회 (O)
   * 기능 : 키워드가 이름에 포함된 전공들을 조회합니다.
   * 요청 : 검색 키워드
   * 응답 : [ 전공 ID, 전공 이름 ] 리스트

### 과목, Subject

1. 교수 과목 등록 (O)
   * 기능 : 교수님이 과목을 등록합니다.
   * 요청 : 과목 이름, 교수 ID
   * 응답 : 과목 ID, 과목 이름

2. 학생 과목 신청 (O)
   * 기능 : 학생이 과목에 수강 신청 합니다.
   * 요청 : 학생 ID, 과목 ID
   * 응답 : 학생의 수강 과목 리스트

3. 과목 정보 조회 (O)
   * 기능 : 과목 세부정보를 조회합니다.
   * 요청 : 과목 ID
   * 응답 : 과목 ID, 과목 이름, 담당 교수 ID, 담당 교수 이름

4. 과목을 수강하는 학생 조회 (O)
   * 기능 : 과목을 수강하는 학생들을 조회합니다.
   * 요청 : 과목 ID
   * 응답 : [ 학생 ID, 이름 ] 리스트

### 유저, User

1. 유저(학생, 교수) 등록 (O)
   * 기능 : 유저를 학생, 교수 등록합니다. 모든 유저는 전공이 필수로 등록되어야 합니다.
   * 요청 : 이름, 주소, 전화번호, 생년월일, 타입(0(학생) or 1(교수)), 전공 ID
   * 응답 : 학생 ID, 이름, 주소, 전화번호, 생년월일, 유저 타입, 전공 ID, 전공 이름

2. 유저 조회 (O)
   * 기능 : 유저 세부정보를 조회합니다.
   * 요청 : 유저 ID
   * 응답 : 유저 ID, 이름, 주소, 전화번호, 생년월일, 유저 타입, 전공 ID, 전공 이름, [ 과목 ID, 과목 이름 ] 리스트

## ERD

[https://www.erdcloud.com/d/8PyH4Y73bqyapMu3m](https://www.erdcloud.com/d/8PyH4Y73bqyapMu3m)

## Environment

* Java 8
* Spring Boot 2.5.4
* H2 1.4.99

## 구현방식

### 계획

TDD(Test Driven Development)로 개발을 진행하려 시도합니다.

1. 실패하는 단위 테스트를 작성하고,
2. 프로덕션 코드를 작성해 테스트를 통과 시킵니다.
3. 위 과정을 반복하고, 리팩토링을 진행합니다.

Entity를 기본적으로 생성해둔 상태에서 기능 명세 번호를 순서로 Repository -> Service -> Controller 흐름으로 구현할 것입니다. Repository는 통합테스트를, Service에서는
Mockito를 활용한 Mock 테스트를, Controller에서는 MockMvc를 활용할 것입니다.

### 실제

완성 후 회고를 하며 기록할 예정입니다.

### 의문점

1. 테스트를 Mock으로 작성하면서 내 손으로 직접 Mock을 구현하다보니 문득 이런 생각이 들었다. Mock의 뜻인 가짜를 만들어놓고 내가 예상하는 요청, 응답 값을 기준으로 테스트가 진행되다보니 이 Mock을
   만드는 단계에서 실수가 일어 난다면?  
   차라리 속도 차이가 나더라도 실제 구현 인스턴스를 불러와 구현하는게 정확도 측면에서 낫지 않을까.. 라는 생각을 하면서 좀 더 테스트에 신중하고 다양한 케이스를 생각하는 것이 TDD의 이점인가..?